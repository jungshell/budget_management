# doPost 실패 문제 해결

## 현재 상황
- ✅ `doGet` 요청: 성공 (브라우저에서 직접 접속 시 정상 작동)
- ❌ `doPost` 요청: 실패 (프론트엔드에서 호출 시 실패)

## 문제 원인 확인 방법

### 1단계: 실패한 실행의 로그 확인

1. Google Apps Script 편집기에서
2. `실행` → `실행 기록` 클릭
3. **실패한 `doPost` 실행 클릭** (예: 2025. 12. 11. AM 9:51:43)
4. **"Cloud 로그" 섹션 확인**
5. 오류 메시지 확인:
   - 어떤 오류인가?
   - 어느 줄에서 오류가 발생했는가?
   - 데이터 파싱 오류인가? 권한 오류인가?

### 2단계: 일반적인 오류 원인

#### A. JSON 파싱 오류
**증상**: `JSON.parse` 오류
**원인**: 프론트엔드에서 보낸 데이터 형식 문제
**해결**: `doPost` 함수의 JSON 파싱 부분 확인

#### B. 권한 오류
**증상**: "권한이 필요합니다" 또는 "Access denied"
**원인**: Google Sheets/Drive 접근 권한 없음
**해결**: 권한 재승인 필요

#### C. 데이터 형식 오류
**증상**: `syncToSheets` 함수 내부 오류
**원인**: 받은 데이터 형식이 예상과 다름
**해결**: 데이터 검증 로직 추가

### 3단계: 디버깅 코드 추가

실패한 실행의 로그를 확인한 후, 해당 오류에 맞는 수정을 진행하겠습니다.

## 다음 단계

**실패한 `doPost` 실행의 "Cloud 로그" 내용을 알려주세요.**

로그 내용을 보면 정확한 원인을 파악하고 해결할 수 있습니다.

---

## 임시 해결책: 더 자세한 오류 로깅

만약 로그가 보이지 않으면, `doPost` 함수에 더 자세한 로깅을 추가할 수 있습니다.

