# PWA (Progressive Web App) 설정 가이드

## PWA란?

PWA(Progressive Web App)는 웹 기술을 사용하여 네이티브 앱과 유사한 경험을 제공하는 웹 애플리케이션입니다.

## PWA의 장점

### 1. **앱처럼 설치 가능**
- 홈 화면에 아이콘 추가
- 독립적인 창에서 실행
- 앱 런처에서 바로 접근

### 2. **오프라인 지원**
- 인터넷 연결이 없어도 일부 기능 사용 가능
- Service Worker를 통한 캐싱
- 오프라인에서도 기본 기능 동작

### 3. **빠른 로딩 속도**
- 캐시된 리소스로 즉시 로딩
- 네트워크 사용량 감소
- 반복 방문 시 더 빠른 경험

### 4. **푸시 알림**
- 브라우저를 닫아도 알림 수신 가능
- 예산 변경, 백업 완료 등 알림
- 실시간 업데이트 정보 제공

### 5. **모바일 최적화**
- 반응형 디자인
- 터치 제스처 지원
- 모바일 브라우저에서 앱처럼 동작

### 6. **업데이트 자동화**
- 앱 스토어 없이 업데이트 배포
- 사용자가 자동으로 최신 버전 사용
- 버전 관리 용이

## 현재 시스템의 PWA 기능

### ✅ 구현된 기능

1. **Service Worker**
   - 오프라인 캐싱
   - 리소스 캐싱 전략
   - 백그라운드 동기화 준비

2. **Manifest 파일**
   - 앱 아이콘 설정
   - 테마 색상
   - 시작 URL
   - 표시 모드 (standalone)

3. **설치 프롬프트**
   - 자동 설치 안내
   - 수동 설치 버튼

4. **오프라인 감지**
   - 온라인/오프라인 상태 표시
   - 상태 변경 감지

## PWA 설정 방법

### 1. 자동 설치 (권장)

1. **Chrome/Edge 브라우저**에서 예산 관리 시스템 접속
2. 주소창 오른쪽에 **설치 아이콘** (➕ 또는 다운로드 아이콘) 표시
3. 클릭하여 "설치" 선택
4. 설치 완료!

### 2. 수동 설치

1. **설정 페이지**로 이동
2. **"PWA (Progressive Web App) 설정"** 섹션 찾기
3. **"앱 설치"** 버튼 클릭
4. 설치 확인 대화상자에서 "설치" 선택

### 3. 모바일에서 설치

#### Android (Chrome)
1. Chrome 브라우저에서 사이트 접속
2. 메뉴 (⋮) → **"홈 화면에 추가"** 선택
3. 확인 대화상자에서 "추가" 클릭

#### iOS (Safari)
1. Safari에서 사이트 접속
2. 공유 버튼 (□↑) 클릭
3. **"홈 화면에 추가"** 선택
4. 이름 확인 후 "추가" 클릭

## PWA 사용 팁

### 오프라인 모드 활용

1. **오프라인 상태 확인**
   - 설정 페이지에서 "오프라인 상태" 확인
   - 오프라인일 때도 기본 기능 사용 가능

2. **캐시된 데이터 사용**
   - 이전에 방문한 페이지는 오프라인에서도 볼 수 있음
   - 데이터는 캐시에서 로드

3. **동기화**
   - 온라인으로 돌아오면 자동으로 동기화
   - 변경사항이 서버에 반영됨

### 푸시 알림 설정

1. **알림 권한 허용**
   - 브라우저에서 알림 권한 요청 시 "허용" 선택
   - 설정 페이지에서 "알림 받기" 활성화

2. **알림 받기**
   - 예산 추가/수정/삭제 시 알림
   - 백업 완료 알림
   - 일괄 작업 완료 알림

## PWA 확인 방법

### 설치 확인
- 브라우저 주소창에 설치 아이콘이 없으면 설치됨
- 설정 페이지에서 "PWA가 설치되어 있습니다" 메시지 확인

### 오프라인 테스트
1. Chrome DevTools 열기 (F12)
2. Network 탭 → "Offline" 체크
3. 페이지 새로고침
4. 오프라인에서도 일부 기능 동작 확인

### Service Worker 확인
1. Chrome DevTools 열기 (F12)
2. Application 탭 → Service Workers
3. 등록된 Service Worker 확인

## 문제 해결

### 설치가 안 될 때
- **HTTPS 필수**: PWA는 HTTPS에서만 작동 (localhost는 예외)
- **Manifest 확인**: `manifest.json` 파일이 올바른지 확인
- **Service Worker 확인**: Service Worker가 등록되었는지 확인

### 오프라인이 안 될 때
- Service Worker가 등록되었는지 확인
- 캐시가 올바르게 설정되었는지 확인
- 브라우저가 Service Worker를 지원하는지 확인

### 알림이 안 올 때
- 알림 권한이 허용되었는지 확인
- 브라우저 설정에서 알림 차단 여부 확인
- 설정 페이지에서 "알림 받기" 활성화 확인

## 브라우저 지원

### 완전 지원
- ✅ Chrome (Android, Desktop)
- ✅ Edge (Windows, Mac)
- ✅ Samsung Internet (Android)
- ✅ Opera (Desktop, Mobile)

### 부분 지원
- ⚠️ Safari (iOS 11.3+): 설치 가능, 일부 기능 제한
- ⚠️ Firefox: 설치 가능, 일부 기능 제한

## 추가 기능 (향후 계획)

- [ ] 백그라운드 동기화
- [ ] 푸시 알림 서버 연동
- [ ] 오프라인 데이터 편집
- [ ] 오프라인 큐 관리
- [ ] 자동 업데이트 알림

## 참고 자료

- [PWA 공식 문서](https://web.dev/progressive-web-apps/)
- [Service Worker API](https://developer.mozilla.org/ko/docs/Web/API/Service_Worker_API)
- [Web App Manifest](https://developer.mozilla.org/ko/docs/Web/Manifest)


